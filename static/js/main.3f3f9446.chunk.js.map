{"version":3,"sources":["components/Login/Login.js","assets/img_197388.png","assets/reel_swell_guy.png","components/Header/Header.js","components/MovieCard/MovieCard.js","api.js","components/Gallery/Gallery.js","components/YouTubeVideo/YouTubeVideo.js","assets/placeholder.png","components/MovieDetails/MovieDetails.js","components/App/App.js","index.js"],"names":["Login","email","password","error","handleLoginChange","handleLoginSubmit","className","type","placeholder","name","value","onChange","required","to","onClick","Header","loggedIn","handleChangeInSearch","searchTerms","src","clippy","alt","document","querySelector","classList","toggle","searchIcon","event","MovieCard","id","title","poster_path","average_rating","release_date","style","backgroundImage","backgroundSize","toFixed","api","getUser","fetch","method","headers","body","JSON","stringify","then","response","checkResponse","json","getAllMovies","data","movies","getSingleMovie","movieID","movie","getSingleMovieVideos","videos","ok","console","log","status","Error","Gallery","props","state","allMovies","filteredMovies","setState","catch","message","this","filter","search","RegExp","filterMovies","length","map","Component","YouTubeVideo","videoKey","width","height","frameBorder","allow","MovieDetails","Promise","all","Date","toLocaleString","year","month","day","genres","join","key","backdrop_path","formatReleaseDate","tagline","overview","formatGenres","runtime","App","credentials","user","target","preventDefault","localStorage","setItem","getItem","parse","exact","path","render","match","params","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.3f3f9446.chunk.js","sourcesContent":["import React from 'react'\nimport './Login.css'\nimport { Link } from 'react-router-dom'\n\nconst Login = ({ email, password, error, handleLoginChange, handleLoginSubmit }) => {\n  return (\n    <form>\n      {error && <p className=\"message\">{error}</p>}\n      <input\n        type='email'\n        placeholder='email'\n        name='email'\n        value={email}\n        onChange={handleLoginChange}\n        required\n        className='text-field'\n      />\n      <input\n        type='password'\n        placeholder='password'\n        name='password'\n        value={password}\n        onChange={handleLoginChange}\n        required\n        className='text-field'\n      />\n      <Link to='/' onClick={handleLoginSubmit}>\n        <button className='login-btn'>Log In</button>\n      </Link>\n    </form>\n  )\n}\n\nexport default Login\n","export default __webpack_public_path__ + \"static/media/img_197388.99f9f5f0.png\";","export default __webpack_public_path__ + \"static/media/reel_swell_guy.ea026696.png\";","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport './Header.css'\nimport searchIcon from '../../assets/img_197388.png'\nimport clippy from '../../assets/reel_swell_guy.png'\n\nconst Header = ({ loggedIn, handleChangeInSearch, searchTerms}) => {\n  return (\n    <header>\n      <Link to='/' >\n        <article className=\"title-with-logo\">\n          <h1 className='title'>Cinema Central</h1>\n          <img className=\"clippy\" src={clippy} alt='cartoon film reel mascot' />\n        </article>\n      </Link>\n      {loggedIn &&\n        <nav>\n          <span className=\"search\">\n            <img className=\"search-icon\" onClick={() => document.querySelector(\".search-bar\").classList.toggle(\"active\")} src={searchIcon} alt='search icon' />\n            <input\n              onChange={ event => handleChangeInSearch(event) }\n              name='searchTerms'\n              value={ searchTerms }\n              className=\"search-bar\"\n              type=\"text\"\n              placeholder=\"search by movie title...\"\n            />\n          </span>\n        </nav>\n      }\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport './MovieCard.css'\n\nconst MovieCard = ({ id, title, poster_path, average_rating, release_date }) => {\n  return (\n    <Link to={`/movies/${id}`}>\n      <article className='movie-card' style={{\n        backgroundImage: `url(${poster_path})`,\n        backgroundSize: 'contain'\n      }}>\n        <div className='text-overlay'>\n          <h2>{title}</h2>\n          <p>Average Rating:\n            <span className=\"yellow\">{\" \" + average_rating.toFixed(1)} / 10</span>\n          </p>\n          <p>Released:\n            <span className=\"yellow\">{\" \" + release_date}</span>\n          </p>\n        </div>\n      </article>\n    </Link>\n  )\n}\n\nexport default MovieCard\n","const api = {\n  getUser(email, password) {\n    return fetch('https://rancid-tomatillos.herokuapp.com/api/v2/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n          email: email,\n          password: password\n        })\n    })\n      .then(response => {\n        this.checkResponse(response)\n        return response.json()\n      })\n  },\n\n  getAllMovies() {\n    return fetch('https://rancid-tomatillos.herokuapp.com/api/v2/movies')\n      .then(response => {\n        this.checkResponse(response)\n        return response.json()\n      })\n      .then(data => data.movies)\n  },\n\n  getSingleMovie(movieID) {\n    return fetch(`https://rancid-tomatillos.herokuapp.com/api/v2/movies/${movieID}`)\n      .then(response => {\n        this.checkResponse(response)\n        return response.json()\n      })\n      .then(data => data.movie)\n  },\n\n  getSingleMovieVideos(movieID) {\n    return fetch(`https://rancid-tomatillos.herokuapp.com/api/v2/movies/${movieID}/videos`)\n      .then(response => {\n       this.checkResponse(response)\n       return response.json()\n     })\n     .then(data => data.videos)\n  },\n\n  checkResponse(response) {\n    if (!response.ok) {\n      console.log(response)\n      if (response.status === 422 || response.status === 403) {\n        throw new Error('Sorry, we can\\'t find an account with these credentials. Please try again.')\n      } else if (response.status === 404) {\n        throw new Error('The page you are looking for doesn\\'t exist')\n      } else if (response.status >= 500) {\n        throw new Error('We\\'re having issues on our end. Please try again later.')\n      } else {\n        throw new Error('Please check your network connection')\n      }\n    }\n  }\n}\n\nexport default api\n","import React, { Component } from 'react'\nimport MovieCard from '../MovieCard/MovieCard'\nimport api from '../../api'\nimport './Gallery.css'\n\nclass Gallery extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      allMovies: [],\n      filteredMovies: [],\n      error: '',\n      status: 'loading'\n    }\n  }\n\n  componentDidMount() {\n    api.getAllMovies()\n      .then(movies => this.setState({ allMovies: movies, error: '', status: 'success'}))\n      .catch(error => {\n        this.setState({ error: error.message, status: 'error'})\n      })\n  }\n\n  filterMovies() {\n    return this.state.allMovies.filter(movie => {\n      return movie.title.search(new RegExp(this.props.searchTerms, 'i')) !== -1\n    })\n  }\n\n  componentDidUpdate() {\n    console.log('updated')\n    const filteredMovies = this.filterMovies()\n    if (this.state.filteredMovies.length !== filteredMovies.length) {\n      this.setState({ filteredMovies: filteredMovies })\n    }\n  }\n\n  render() {\n    const status = this.state.status\n    const filteredMovies = this.state.filteredMovies.map(\n      movie => <MovieCard key={ movie.id } { ...movie } />\n    )\n    return (\n      <>\n        {status === 'loading' && <h1 className='message'>Loading</h1>}\n        {status === 'error' && <h1 className='message'>{this.state.error}</h1>}\n        {status === 'success' &&\n          <section className='gallery'>\n            { filteredMovies }\n          </section>\n        }\n      </>\n    )\n  }\n}\n\nexport default Gallery\n","import React from 'react';\nimport './YouTubeVideo.css';\nconst YouTubeVideo = ({ videoKey }) => {\n  return (\n    <iframe\n      key={videoKey}\n      width=\"853\"\n      height=\"480\"\n      src={`https://www.youtube.com/embed/${videoKey}`}\n      frameBorder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      title=\"Embedded youtube\"\n    />\n  )\n}\n\nexport default YouTubeVideo\n","export default __webpack_public_path__ + \"static/media/placeholder.8f797190.png\";","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport YouTubeVideo from '../YouTubeVideo/YouTubeVideo'\nimport api from '../../api'\nimport './MovieDetails.css'\nimport placeholder from '../../assets/placeholder.png'\n\nclass MovieDetails extends Component {\n  state = {\n    movie: null,\n    videos: null,\n    error: '',\n    status: 'loading'\n  }\n\n  componentDidMount() {\n    Promise.all([\n      api.getSingleMovie(this.props.id),\n      api.getSingleMovieVideos(this.props.id)\n    ])\n      .then(data => {\n        this.setState({ movie: data[0], videos: data[1], status: 'success', error: '' })\n      })\n      .catch(error => {\n        this.setState({ error: error.message, status: 'error'})\n      })\n  }\n\n  formatReleaseDate() {\n    const { movie: { release_date } } = this.state;\n    return new Date(release_date).toLocaleString('en-us', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    })\n  }\n\n  formatGenres() {\n    const { movie } = this.state;\n    return movie.genres.join(\"/\");\n  }\n\n  render() {\n    const status = this.state.status\n    const { movie, videos } = this.state;\n\n    return (\n      <>\n        {status === 'loading' && <h1 className='message'>Loading</h1>}\n        {status === 'error' && <h1 className='message'>{this.state.error}</h1>}\n        {status === 'success' && this.state.movie &&\n          <section className=\"details-container\">\n            <YouTubeVideo videoKey={videos[videos.length - 1].key}/>\n            <section\n              className=\"details\"\n              style={{\n                backgroundImage: `url(${\n                  movie.backdrop_path\n                    ? movie.backdrop_path\n                    : placeholder\n                  })`\n                }}\n            >\n              <article className=\"details-wrapper\">\n                <div className=\"heading\">\n                  <h2>{movie.title} ({this.formatReleaseDate()})</h2>\n                  {movie.tagline && <h3>{`${movie.tagline}`}</h3>}\n                </div>\n                <p className=\"overview\">{movie.overview}</p>\n                <h4>{this.formatGenres()} - {movie.runtime} minutes - {movie.average_rating.toFixed(1)} / 10</h4>\n                <Link to='/'>\n                  <button>Home</button>\n                </Link>\n              </article>\n            </section>\n          </section>\n        }\n      </>\n    )\n  }\n}\n\nexport default MovieDetails\n","import React, { Component } from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport Login from '../Login/Login'\nimport Header from '../Header/Header'\nimport Gallery from '../Gallery/Gallery'\nimport MovieDetails from '../MovieDetails/MovieDetails'\nimport api from '../../api'\nimport './App.css'\n\nclass App extends Component {\n  state = {\n    credentials: {\n      email: '',\n      password: ''\n    },\n    user: {\n      name: '',\n      id: 0\n    },\n    searchTerms: '',\n    error: '',\n    status: 'loading'\n  }\n\n  componentDidMount() {\n    localStorage.getItem('user') && this.setState({ user: { name: JSON.parse(localStorage.getItem('user')).name, id: JSON.parse(localStorage.getItem('user')).id}, error: '', status: 'success' })\n  }\n\n  handleChangeInSearch = event => {\n    this.setState({ searchTerms: event.target.value })\n  }\n\n  handleLoginChange = (event) => {\n    const { credentials } = this.state\n    const { name, value } = event.target\n    this.setState({ credentials: { ...credentials, [name]: value } })\n  }\n\n  handleLoginSubmit = (event) => {\n    event.preventDefault()\n    const { credentials: { email, password } } = this.state;\n    api.getUser(email, password)\n      .then(({ user: { id, name } }) => {\n        this.setState({ user: { id, name }, error: '', status: 'success' })\n        localStorage.setItem('user', JSON.stringify(this.state.user))\n      })\n      .catch(error => {\n        this.setState({ error: error.message, status: 'error' })\n      })\n  }\n\n  render() {\n    return (\n      <>\n        {!this.state.user.id ? <Redirect to='/login' /> : <Redirect to='/' />}\n        <Header loggedIn={this.state.user.id ? true : false} handleChangeInSearch={this.handleChangeInSearch}\n        searchTerms={ this.state.searchTerms } />\n        <main>\n          <Switch>\n            <Route exact path='/login' render={ () => <Login data={this.state.credentials} error={this.state.error} handleLoginChange={this.handleLoginChange} handleLoginSubmit={this.handleLoginSubmit} /> } />\n            <Route exact path='/' render={ () => {\n              return this.state.user.id ? <Gallery searchTerms={this.state.searchTerms} /> : <Redirect to='/login' />\n            } } />\n            <Route path='/movies/:id' render={ ({ match }) => {\n              return this.state.user.id ? <MovieDetails id={ match.params.id } /> : <Redirect to='/login' />\n            }} />\n            <Route path='*'>\n              <p>The page you are looking for doesn't exist</p>\n            </Route>\n          </Switch>\n        </main>\n        <footer>\n          <h5>© 2021</h5>\n        </footer>\n      </>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}